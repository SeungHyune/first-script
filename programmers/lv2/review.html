<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lv. 02 (복습)</title>
</head>

<body>
    <script type="text/javascript">
        // 01. 최댓값과 최솟값
        function solution(s) {
            let min = Math.min(...s.split(" "));
            let max = Math.max(...s.split(" "));
            return `${min} ${max}`;
        }
        console.log(solution("-1 -2 -3 -4")); // "-4 -1";

        // 02. JadenCase 문자열 만들기
        function solution1(s) {
            let answer = "";
            for (let i = 0; i < s.length; i++) {
                if (i === 0 || s[i - 1] === " ") answer += s[i].toUpperCase();
                else answer += s[i].toLowerCase();
            }
            return answer;
        }
        console.log(solution1("3people unFollowed me")); // "3people Unfollowed Me";

        // 03. 최솟값 만들기
        function solution2(A, B) {
            let answer = 0;
            A.sort((a, b) => a - b);
            B.sort((a, b) => b - a);
            for (let i = 0; i < A.length; i++) {
                answer += A[i] * B[i];
            }
            return answer;
        }
        console.log(solution2([4, 1, 2], [4, 5, 4])); // 29;

        // 04. 올바른 괄호
        function solution3(s) {
            let stack = [];
            for (const a of s) {
                if (a === "(") stack.push(a);
                else {
                    if (stack.length === 0) return false;
                    stack.pop();
                }
            }
            return stack.length > 0 ? false : true;
        }
        console.log(solution3(")()(")); // false;

        // 05. 이진 변환 반복하기
        function solution4(s) {
            let change = 0;
            let remove = 0;
            while (s.length !== 1) {
                change++
                let str = "";
                for (const a of s) {
                    if (a !== "0") str += a;
                    else remove++;
                }
                s = str.length.toString(2);
            }
            return [change, remove]
        }
        console.log(solution4("110010101001")); // [3,8];

        // 06. 숫자의 표현
        function solution5(n) {
            let answer = 0;
            for (let i = 1; i <= n; i++) {
                let sum = 0;
                let j = i;
                while (sum < n) {
                    sum += j++;
                    if (sum === n) {
                        answer++;
                        break;
                    }
                }
            }
            return answer;
        }
        console.log(solution5(15)); // 4;

        // 07. 다음 큰 숫자
        function solution6(n) {
            let binary = n.toString(2).split("").filter(v => v === "1").length;
            let num = n;
            while (true) {
                num++;
                let nBinary = num.toString(2).split("").filter(v => v === "1").length;
                if (binary === nBinary) return num;
            }
        }
        console.log(solution6(15)); // 83;

        // 08. 피보나치 수
        function solution7(n) {
            let dy = Array.from({ length: n + 1 }, () => 0);
            dy[0] = 0;
            dy[1] = 1;
            for (let i = 2; i <= n; i++) {
                dy[i] = dy[i - 2] % 1234567 + dy[i - 1] % 1234567;
            }
            return dy[n] % 1234567;
        }
        console.log(solution7(5)); // 5;

        // 09. 짝지어 제거하기
        function solution8(s) {
            let stack = [];
            for (const a of s) {
                let pop = stack.pop();
                if (pop !== undefined) {
                    if (pop !== a) {
                        stack.push(pop);
                        stack.push(a);
                    }
                } else stack.push(a);
            }
            return stack.length === 0 ? 1 : 0;
        }
        console.log(solution8("baabaa")); // 1;

        // 10. 영어 끝말잇기
        function solution9(n, words) {
            let word = [];
            for (let i = 0; i < words.length; i++) {
                let pop = word.pop();
                if (pop !== undefined) {
                    if (pop[pop.length - 1] === words[i][0] && !word.includes(words[i])) {
                        word.push(pop);
                        word.push(words[i]);
                    } else return [(i % n) + 1, Math.ceil((i + 1) / n)]
                } else word.push(words[i]);
            }
            return [0, 0];
        }
        let words = ["tank", "kick", "know", "wheel", "land", "dream", "mother", "robot", "tank"];
        console.log(solution9(3, words)); // [3,3];

        // 11. 카펫
        function solution10(brown, yellow) {
            let y = yellow;
            let j = 1;
            while (true) {
                let width = (y + 2) * 2;
                let height = j * 2;
                if (width + height === brown) return [y + 2, j + 2];
                j++;
                y = yellow / j;
            }
        }
        console.log(solution10(24, 24)); // [8,6];

        // 12. 예상 대진표
        function solution11(n, a, b) {
            let min = Math.min(a, b);
            let max = Math.max(a, b);
            for (let i = 1; Math.pow(2, i) <= n; i++) {
                if (min % 2 === 1 && min + 1 === max) return i;
                min = Math.ceil(min / 2);
                max = Math.ceil(max / 2);
            }
        }
        console.log(solution11(8, 4, 7)); // 3;

        // 13. 구명보트
        function solution12(people, limit) {
            let answer = 0;
            people.sort((a, b) => a - b);
            let lt = 0;
            for (let rt = people.length - 1; rt >= lt; rt--) {
                if (people[lt] + people[rt] <= limit) lt++;
                answer++;
            }
            return answer;
        }
        console.log(solution12([70, 50, 80, 50], 100)); // 3;

        // 14. 점프와 순간 이동
        function solution13(n) {
            let answer = 0;
            while (n) {
                if (!Number.isInteger(n / 2)) answer++;
                n = Math.floor(n / 2);
            }
            return answer;
        }
        console.log(solution13(5000)); // 5;

        // 15. N개의 최소공배수
        function solution14(arr) {
            let max = Math.max(...arr);
            let j = 1;
            while (true) {
                let cnt = 0;
                for (let i = 0; i < arr.length; i++) {
                    if ((max * j) % arr[i] === 0) cnt++;
                }
                if (cnt === arr.length) return max * j;
                j++
            }
        }
        console.log(solution14([2, 6, 8, 14])); // 168;

        // 16. 멀리 뛰기
        function solution15(n) {
            let dy = Array.from({ length: n + 1 }, () => 0);
            dy[1] = 1;
            dy[2] = 2;
            for (let i = 3; i <= n; i++) {
                dy[i] = dy[i - 2] % 1234567 + dy[i - 1] % 1234567;
            }
            return dy[n] % 1234567
        }
        console.log(solution15(5)); // 8;

        // 17. 귤 고르기
        function solution16(k, tangerine) {
            let answer = 0;
            let map = new Map();
            for (const a of tangerine) {
                if (map.has(a)) map.set(a, map.get(a) + 1);
                else map.set(a, 1);
            }
            let mapArr = Array.from(map);
            mapArr.sort((a, b) => b[1] - a[1]);

            let sum = 0;
            for (let [key, val] of mapArr) {
                sum += val;
                answer++;
                if (sum >= k) return answer;
            }
        }
        console.log(solution16(6, [1, 3, 2, 5, 4, 5, 2, 3])); // 3;

        // 18. 괄호 회전하기
        function solution17(s) {
            let answer = 0;
            s = s.split("");
            for (const a of s) {
                let shift = s.shift();
                s.push(shift);

                let stack = [];
                let flag = 1;
                for (const a of s) {
                    if (a === "(" || a === "{" || a === "[") stack.push(a);
                    else {
                        let pop = stack.pop();
                        if (a === ")" && pop !== "(" || a === "}" && pop !== "{" || a === "]" && pop !== "[") {
                            flag = 0;
                            break;
                        }
                    }
                }

                if (flag && stack.length === 0) answer++
            }
            return answer;
        }
        console.log(solution17("[](){}")); // 3;

        // 19. 연속 부분 수열 합의 개수
        function solution18(elements) {
            let arr = [...elements];
            let n = elements.length;
            for (let i = 2; i <= n; i++) {
                for (let j = 0; j < n; j++) {
                    let sum = 0;
                    let k = j;
                    while (true) {
                        sum += elements[k % n];
                        k++;
                        if (k === i + j) break;
                    }
                    arr.push(sum);
                }
            }

            let set = new Set(arr);
            return set.size;
        }
        console.log(solution18([7, 9, 1, 1, 4])); // 18;

        // 20. H-Index
        function solution19(citations) {
            let answer = 0;
            for (let i = 1; i <= citations.length; i++) {
                let cnt = 0;
                for (const a of citations) {
                    if (i <= a) cnt++;
                }
                if (cnt >= i) answer = i;
            }
            return answer;
        }
        console.log(solution19([3, 0, 6, 1, 5])); // 3;

        // 21. n^2 배열 자르기
        function solution20(n, left, right) {
            let answer = [];
            let min = Math.floor(left / n);
            let max = Math.ceil(right / n);
            let nl = left % n
            let lr = right - left;
            for (let i = min; i < max; i++) {
                let k = i + 1;
                for (let j = 1; j <= n; j++) {
                    if (k < j) k++;
                    answer.push(k);
                }
            }

            if (n >= left) return answer.splice(left, lr + 1);
            else return answer.splice(nl, lr + 1);
        }
        console.log(solution20(4, 7, 14)); // [4,3,3,3,4,4,4,4];

        // 22. 행렬의 곱셈
        function solution21(arr1, arr2) {
            let answer = [];
            for (let i = 0; i < arr1.length; i++) {
                let arr = [];
                for (let j = 0; j < arr2[0].length; j++) {
                    let sum = 0;
                    for (let k = 0; k < arr1[0].length; k++) {
                        sum += arr1[i][k] * arr2[k][j];
                    }
                    arr.push(sum);
                }
                answer.push(arr);
            }
            return answer;
        }
        console.log(solution21([[1, 2, 3], [4, 5, 6]], [[1, 4], [2, 5], [3, 6]])); // [[14,32],[32,77]];

        // 23. [1차] 캐시
        function solution22(cacheSize, cities) {
            let answer = 0;
            let arr = Array.from({ length: cacheSize }, () => 0);
            cities.forEach(city => {
                let char = city.toUpperCase();
                let idx = arr.indexOf(char);
                if (idx > -1) {
                    answer++;
                    for (let i = idx; i >= 1; i--) {
                        arr[i] = arr[i - 1];
                    }
                } else {
                    answer += 5;
                    for (let i = cacheSize - 1; i >= 1; i--) {
                        arr[i] = arr[i - 1];
                    }
                }
                if (cacheSize > 0) arr[0] = char;
            })
            return answer;
        }
        let cacheSize = 3;
        let cities = ["Jeju", "Pangyo", "Seoul", "NewYork", "LA", "Jeju", "Pangyo", "Seoul", "NewYork", "LA"];
        console.log(solution22(cacheSize, cities)); // 50;

        // 24. 의상
        function solution23(clothes) {
            let answer = 1;
            let map = new Map();
            for (let [key, val] of clothes) {
                if (map.has(val)) map.set(val, map.get(val) + 1);
                else map.set(val, 1);
            }

            function combi(n, r) {
                if (n === r || r === 0) return 1;
                else return combi(n - 1, r - 1) + combi(n - 1, r);
            }

            for (let [key, val] of map) {
                answer *= (combi(val, 1) + combi(val, 0))
            }
            return answer - 1;
        }
        let clothes = [["yellow_hat", "headgear"], ["blue_sunglasses", "eyewear"], ["green_turban", "headgear"]];
        console.log(solution23(clothes)); // 5;

        // 25. 튜플
        function solution24(s) {
            let answer = [];
            let map = new Map();
            let num = "";
            for (let a of s) {
                if (!isNaN(a)) num += a;
                else if (num !== "") {
                    if (map.has(num)) map.set(num, map.get(num) + 1);
                    else map.set(num, 1);
                    num = "";
                }
            }

            let arr = Array.from(map);
            arr.sort((a, b) => b[1] - a[1]);
            for (let [key, val] of arr) {
                answer.push(Number(key));
            }

            return answer;
        }
        console.log(solution24("{{4,2,3},{3},{2,3,4,1},{2,3}}")); // [3,2,4,1];

        // 26. 할인 행사
        function solution25(want, number, discount) {
            let answer = 0;
            let map = new Map();
            for (let i = 0; i < want.length; i++) {
                map.set(want[i], number[i]);
            }

            for (let i = 0; i < discount.length; i++) {
                let cnt = 0;
                let copyMap = new Map(map);
                for (let j = i; j < discount.length; j++) {
                    const item = discount[j];
                    if (copyMap.has(item)) {
                        copyMap.set(item, copyMap.get(item) - 1);
                        if (copyMap.get(item) === 0) copyMap.delete(item);
                    } else break;

                    cnt++;
                    if (cnt === 10) break;
                }

                if (copyMap.size === 0) answer++;
            }
            return answer;
        }
        let want = ["banana", "apple", "rice", "pork", "pot"];
        let number = [3, 2, 2, 2, 1];
        let discount = ["chicken", "apple", "apple", "banana", "rice", "apple", "pork", "banana", "pork", "rice", "pot", "banana", "apple", "banana"];
        console.log(solution25(want, number, discount)) // 3;

        // 27. 기능개발
        function solution26(progresses, speeds) {
            let answer = [];
            while (progresses.length) {
                for (let i = 0; i < speeds.length; i++) {
                    progresses[i] += speeds[i];
                }

                let cnt = 0;
                while (progresses[0] >= 100) {
                    progresses.shift();
                    speeds.shift();
                    cnt++;
                }

                if (cnt > 0) answer.push(cnt);
            }
            return answer;
        }
        let progresses = [95, 90, 99, 99, 80, 99];
        let speeds = [1, 1, 1, 1, 1, 1];
        console.log(solution26(progresses, speeds)); // [1,3,2];

        // 28. 프로세스
        function solution27(priorities, location) {
            let answer = 0;
            let arr = [];
            for (let i = 0; i < priorities.length; i++) {
                arr.push(String.fromCharCode(65 + i));
            }
            let str = arr[location];

            while (priorities.length) {
                let max = Math.max(...priorities);
                let shift1 = priorities.shift();
                let shift2 = arr.shift();
                if (max === shift1 && str === shift2) return ++answer
                else if (max === shift1) answer++;
                else {
                    priorities.push(shift1);
                    arr.push(shift2);
                }
            }
            return answer;
        }
        let priorities = [1, 1, 9, 1, 1, 1];
        console.log(solution27(priorities, 0)); // 1;

        // 29. [1차] 뉴스 클러스터링
        function stringAdd(str) {
            let arr = [];
            for (let i = 0; i < str.length - 1; i++) {
                if (str[i].charCodeAt() >= 65 && str[i].charCodeAt() <= 90 && str[i + 1].charCodeAt() >= 65 && str[i + 1].charCodeAt() <= 90) {
                    arr.push(str[i] + str[i + 1]);
                }
            }
            return arr;
        }

        function stringChk(str) {
            let s = str[0];
            for (const a of str) {
                if (s !== a) return false;
            }
            return true
        }

        function stringObj(str) {
            let obj = {};
            for (const a of str) {
                if (obj[a] === undefined) obj[a] = 1;
                else obj[a] += 1;
            }
            return obj;
        }

        function solution28(str1, str2) {
            str1 = str1.toUpperCase();
            str2 = str2.toUpperCase();
            let string1 = stringAdd(str1);
            let string2 = stringAdd(str2);

            let strChk1 = stringChk(string1);
            let strChk2 = stringChk(string2);
            if (string1.length === 0 && string2.length === 0) {
                return 65536;
            } else if (strChk1 && strChk2) {
                let min = Math.min(string1.length, string2.length);
                let max = Math.max(string1.length, string2.length);;
                return Math.floor((min / max) * 65536);
            } else {
                let obj1 = stringObj(string1);
                let obj2 = stringObj(string2);

                let tmp2 = 0;
                let tmp = 0;
                for (let key in obj1) {
                    if (obj1[key] !== undefined && obj2[key] !== undefined) {
                        let min = Math.min(obj1[key], obj2[key]);
                        let max = Math.max(obj1[key], obj2[key]);
                        tmp += min;
                        tmp2 += max;
                    } else if (obj1[key] !== undefined) {
                        tmp2 += obj1[key];
                    }
                }

                for (let key in obj2) {
                    if (obj1[key] !== undefined && obj2[key] !== undefined) {
                        let max = Math.max(obj1[key], obj2[key]);
                    } else if (obj2[key] !== undefined) {
                        tmp2 += obj2[key]
                    }
                }
                return Math.floor((tmp / tmp2) * 65536);
            }
        }
        console.log(solution28("FRANCE", "french")); // 16384;

        // 30. 피로도
        function solution29(k, dungeons) {
            let answer = 0;
            let n = dungeons.length;
            let ch = Array.from({ length: n }, () => 0);
            let tmp = Array.from({ length: n }, () => 0);
            function dfs(L) {
                if (L === n) {
                    let p = k;
                    let cnt = 0;
                    for (let i = 0; i < tmp.length; i++) {
                        if (p >= tmp[i][0]) {
                            p -= tmp[i][1];
                            cnt += 1;
                        }
                    }
                    answer = Math.max(answer, cnt);
                } else {
                    for (let i = 0; i < n; i++) {
                        if (ch[i] === 0) {
                            ch[i] = 1;
                            tmp[L] = dungeons[i];
                            dfs(L + 1);
                            ch[i] = 0;
                        }
                    }
                }
            }
            dfs(0);
            return answer;
        }
        console.log(solution29(80, [[80, 20], [50, 40], [30, 10]])); // 3;

        // 31. k진수에서 소수 개수 구하기
        function solution30(n, k) {
            let answer = 0;
            let stack = [];
            let num = n.toString(k);

            let str = "";
            for (let i = 0; i < num.length; i++) {
                if (Number(num[i]) !== 0) {
                    str += num[i];
                } else {
                    stack.push(Number(str));
                    str = "";
                }
            }
            stack.push(Number(str));

            for (let i = 0; i < stack.length; i++) {
                if (stack[i] !== 1 && stack[i] !== 0) {
                    let cnt = 2;
                    for (let j = 2; j <= Math.sqrt(stack[i]); j++) {
                        if (stack[i] % j === 0) {
                            cnt += 1;
                            break;
                        }
                    }

                    if (cnt < 3) answer += 1;
                }
            }
            return answer;
        }
        console.log(solution30(437674, 3)); // 3;

        // 32. [3차] 압축
        function solution31(msg) {
            let answer = [];
            let arr = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];

            let i = 0;
            let str = "";
            while (i < msg.length) {
                str += msg[i];
                let idx = arr.indexOf(str);

                let j = i + 1;
                if (idx > -1) {
                    while (true) {
                        str += msg[j];
                        j++;
                        if (arr.indexOf(str) > -1) {
                            idx = arr.indexOf(str);
                            i += 1;
                        } else {
                            arr.push(str);
                            str = "";
                            break;
                        }
                    }
                    answer.push(idx + 1);
                }
                i++;
            }

            return answer;
        }
        console.log(solution31('TOBEORNOTTOBEORTOBEORNOT')); // [20, 15, 2, 5, 15, 18, 14, 15, 20, 27, 29, 31, 36, 30, 32, 34];

        // 33. [3차] n진수 게임
        function solution32(n, t, m, p) {
            let answer = "";
            let arr = [];

            let i = 0
            while (arr.length < t * m) {
                let num = i.toString(n).toUpperCase();
                if (num.length === 1) {
                    arr.push(num);
                } else {
                    for (const a of num) {
                        arr.push(a);
                    }
                }
                i++
            }

            let start = p - 1;
            while (answer.length < t) {
                answer += arr[start];
                start += m;
            }
            return answer;
        }
        console.log(solution32(2, 4, 2, 1)); // "0111";

        // 34. 주차 요금 계산
        function solution33(fees, records) {
            let answer = [];
            let map = new Map();
            let map2 = new Map();
            for (let cars of records) {
                let car = cars.split(" ");
                let outTime = car[0].split(":");
                let outHours = Number(outTime[0]);
                let outMin = Number(outTime[1]);
                if (car[2] === 'IN') {
                    map.set(car[1], [outHours, outMin]);
                } else if (car[2] === 'OUT') {
                    if (map.has(car[1])) {
                        let inTime = map.get(car[1]);
                        let inHours = outHours - inTime[0];
                        let inMin = outMin - inTime[1];
                        if (map2.has(car[1])) {
                            let hours = map2.get(car[1])[0];
                            let second = map2.get(car[1])[1];
                            map2.set(car[1], [hours + inHours, second + inMin]);
                        } else map2.set(car[1], [inHours, inMin])
                        map.delete(car[1]);
                    } else return false;
                }
            }

            for (let [key, val] of map) {
                let hours = 23 - val[0];
                let min = 59 - val[1];

                if (map2.has(key)) {
                    map2.set(key, [map2.get(key)[0] + hours, map2.get(key)[1] + min]);
                } else map2.set(key, [hours, min]);
                map.delete(key)
            }

            let arr = Array.from(map2);
            arr.sort((a, b) => a[0] - b[0]);
            for (let [key, val] of arr) {
                let hour = val[0] * 60;
                let min = val[1];
                if (hour + min <= fees[0]) answer.push(fees[1]);
                else {
                    answer.push(Math.ceil(((hour + min - fees[0]) / fees[2])) * fees[3] + fees[1])
                }
            }


            return answer;
        }
        let fees = [180, 5000, 10, 600];;
        let records = ["05:34 5961 IN", "06:00 0000 IN", "06:34 0000 OUT", "07:59 5961 OUT", "07:59 0148 IN", "18:59 0000 IN", "19:09 0148 OUT", "22:59 5961 IN", "23:00 5961 OUT"];
        console.log(solution33(fees, records)); // [14600, 34400, 5000];
    </script>
</body>

</html>