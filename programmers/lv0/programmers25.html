<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>programmers - lv0</title>
</head>

<body>
    <script>
        function solution(lines) {
            // 각 선분 범위 구하기
            let line = [[], [], []]
            for (let i = 0; i < lines.length; i++) {
                for (let a = lines[i][0]; a <= lines[i][lines[i].length - 1]; a++) {
                    line[i].push(a)
                }
            }
            console.log(line)

            // 값 유무 체크
            let chk = 0;

            // 누적 선분 값 체크
            let cnt = [];

            // 최종 선분 체크
            let result = [];

            for (let i = 0; i < line.length; i++) {
                if (i === 2) {
                    line[0].forEach((num) => {
                        line[i].forEach((num1) => {
                            if (num === num1) {
                                chk += 1;
                            }
                        })

                        if (chk >= 1) {
                            cnt.push(num);
                            // console.log(cnt)
                        } else {
                            cnt = [];
                        }

                        if (cnt.length >= 2) {
                            result = [...result, ...cnt]
                        }
                        chk = 0;
                    })
                } else {
                    line[i].forEach((num) => {
                        line[i + 1].forEach((num1) => {
                            if (num === num1) {
                                chk += 1;
                            }
                        })

                        if (chk >= 1) {
                            cnt.push(num);
                            // console.log(cnt)
                        } else {
                            cnt = [];
                        }

                        if (cnt.length >= 2) {
                            result = [...result, ...cnt]
                        }
                        chk = 0;
                    })
                }
            }

            // console.log(result)
            result.sort((a, b) => { return a - b })
            let set = new Set(result)
            let setArray = Array.from(set)

            let chk2 = 0;
            let cnt2 = 0;
            let result2 = 0;
            for (let i = setArray[0]; i <= setArray[setArray.length - 1]; i++) {
                setArray.forEach((num) => {
                    // console.log(setArray)
                    if (num === i) {
                        chk2 += 1;
                    }
                })

                if (chk2 === 1) {
                    cnt2 += 1;
                } else {
                    chk2 = 0;
                    cnt2 = 0;
                }

                if (cnt2 >= 2) {
                    result2 += 1
                }

                chk2 = 0;
            }

            console.log(result2)
        }
        solution([[-1, 1], [1, 3], [3, 9]]		)     
    </script>
</body>

</html>